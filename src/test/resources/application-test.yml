spring:
  # DataSource는 TestContainers에서 동적으로 설정됨

  # JPA 설정
  jpa:
    hibernate:
      ddl-auto: create-drop
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        show_sql: false
        format_sql: false
        jdbc:
          time_zone: UTC
        hbm2ddl:
          auto: create-drop
    show-sql: false
    defer-datasource-initialization: false

  # DataLoader 비활성화 (초기 데이터 방지)
  sql:
    init:
      mode: never

  # 트랜잭션 설정
  transaction:
    default-timeout: 30

  # Jackson 설정 (JSON 처리)
  jackson:
    default-property-inclusion: NON_NULL

# 로깅 설정 (최적화)
logging:
  level:
    kr.hhplus.be.server: DEBUG
    org.springframework: INFO
    org.hibernate: WARN
    org.testcontainers: INFO
    com.zaxxer.hikari: WARN
    com.mysql: WARN
    root: WARN

# TestContainers 설정
testcontainers:
  reuse:
    enable: true

# Swagger 비활성화 (테스트 환경)
springdoc:
  api-docs:
    enabled: false
  swagger-ui:
    enabled: false
