spring:
  # @DynamicPropertySource에서 동적 설정하므로 datasource 설정 제거

  # JPA 설정 - 최소화
  jpa:
    hibernate:
      ddl-auto: create-drop
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        show_sql: false
        format_sql: false
        jdbc:
          time_zone: UTC
        hbm2ddl:
          auto: create-drop
    show-sql: false
    defer-datasource-initialization: false

  # SQL 초기화 비활성화 (DataLoader 방지)
  sql:
    init:
      mode: never

  # 트랜잭션 최적화
  transaction:
    default-timeout: 30

# 로깅 최적화 - 에러만 표시
logging:
  level:
    kr.hhplus.be.server: INFO
    org.springframework: WARN
    org.hibernate: WARN
    org.testcontainers: INFO
    com.zaxxer.hikari: ERROR
    com.mysql: ERROR
    root: WARN

# TestContainers 최적화
testcontainers:
  reuse:
    enable: true
